<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>–ú–æ–¥–µ—Ä–∞—Ü–∏—è –æ—Ç–∑—ã–≤–æ–≤ - QolayKZ Admin</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
  <link rel="stylesheet" href="../css/styles.css">
  <link rel="stylesheet" href="css/admin.css">
</head>
<body>
  <div class="admin-layout">
    <aside class="admin-sidebar">
      <div class="sidebar-header">
        <h1>QolayKZ Admin</h1>
      </div>
      <nav class="sidebar-nav">
        <a href="index.html" class="nav-item" data-page="dashboard">
          <i class="fas fa-chart-line"></i> –ì–ª–∞–≤–Ω–∞—è
        </a>
        <a href="owners.html" class="nav-item" data-page="owners">
          <i class="fas fa-user-tie"></i> –í–ª–∞–¥–µ–ª—å—Ü—ã
        </a>
        <a href="restaurants.html" class="nav-item" data-page="restaurants">
          <i class="fas fa-building"></i> –†–µ—Å—Ç–æ—Ä–∞–Ω—ã
        </a>
        <a href="staff.html" class="nav-item" data-page="staff">
          <i class="fas fa-users"></i> –ü–µ—Ä—Å–æ–Ω–∞–ª
        </a>
        <a href="tables.html" class="nav-item" data-page="tables">
          <i class="fas fa-chair"></i> –°—Ç–æ–ª—ã
        </a>
        <a href="categories.html" class="nav-item" data-page="categories">
          <i class="fas fa-folder"></i> –ö–∞—Ç–µ–≥–æ—Ä–∏–∏
        </a>
        <a href="products.html" class="nav-item" data-page="products">
          <i class="fas fa-utensils"></i> –ü—Ä–æ–¥—É–∫—Ç—ã
        </a>
        <a href="banners.html" class="nav-item" data-page="banners">
          <i class="fas fa-bullseye"></i> –ë–∞–Ω–Ω–µ—Ä—ã
        </a>
        <a href="images.html" class="nav-item" data-page="images">
          <i class="fas fa-images"></i> –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
        </a>
        <a href="orders.html" class="nav-item" data-page="orders">
          <i class="fas fa-box"></i> –ó–∞–∫–∞–∑—ã
        </a>
        <a href="reviews.html" class="nav-item active" data-page="reviews">
          <i class="fas fa-star"></i> –û—Ç–∑—ã–≤—ã
        </a>
      </nav>
    </aside>

    <main class="admin-main">
      <header class="admin-header">
        <h2>–ú–æ–¥–µ—Ä–∞—Ü–∏—è –æ—Ç–∑—ã–≤–æ–≤</h2>
        <div class="header-actions">
          <span id="user-info" style="margin-right: 16px; color: #666;"></span>
          <div style="display: flex; align-items: center; gap: 12px;">
            <select id="status-filter" class="input" style="width: 200px;" onchange="loadReviews()">
              <option value="">–í—Å–µ —Å—Ç–∞—Ç—É—Å—ã</option>
              <option value="PENDING">–û–∂–∏–¥–∞—é—Ç –º–æ–¥–µ—Ä–∞—Ü–∏–∏</option>
              <option value="APPROVED">–û–¥–æ–±—Ä–µ–Ω–Ω—ã–µ</option>
              <option value="REJECTED">–û—Ç–∫–ª–æ–Ω–µ–Ω–Ω—ã–µ</option>
            </select>
            <select id="restaurant-filter" class="input" style="width: 250px;" onchange="loadReviews()">
              <option value="">–í—Å–µ —Ä–µ—Å—Ç–æ—Ä–∞–Ω—ã</option>
            </select>
          </div>
          <div>
            <button class="btn btn-secondary" onclick="loadReviews()">
              üîÑ –û–±–Ω–æ–≤–∏—Ç—å
            </button>
          </div>
        </div>
      </header>

      <div class="admin-content">
        <div id="reviews-list" class="list-container">
          <div class="loading">–ó–∞–≥—Ä—É–∑–∫–∞ –æ—Ç–∑—ã–≤–æ–≤...</div>
        </div>
      </div>
    </main>
  </div>

  <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –º–æ–¥–µ—Ä–∞—Ü–∏–∏ -->
  <div id="moderate-modal" class="modal" style="display: none;">
    <div class="modal-content" style="max-width: 600px;">
      <div class="modal-header">
        <h3>–ú–æ–¥–µ—Ä–∞—Ü–∏—è –æ—Ç–∑—ã–≤–∞</h3>
        <button class="modal-close" onclick="closeModerateModal()">√ó</button>
      </div>
      <div class="modal-body">
        <div id="review-details" style="margin-bottom: 20px;">
          <!-- –î–µ—Ç–∞–ª–∏ –æ—Ç–∑—ã–≤–∞ –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã —á–µ—Ä–µ–∑ JS -->
        </div>
        <div style="margin-bottom: 16px;">
          <label class="input-label">–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –º–æ–¥–µ—Ä–∞—Ç–æ—Ä–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):</label>
          <textarea id="moderation-comment" class="input" rows="3" placeholder="–£–∫–∞–∂–∏—Ç–µ –ø—Ä–∏—á–∏–Ω—É —Ä–µ—à–µ–Ω–∏—è..."></textarea>
        </div>
        <div style="display: flex; gap: 12px; justify-content: flex-end;">
          <button class="btn btn-danger" onclick="moderateReview('REJECTED')">
            –û—Ç–∫–ª–æ–Ω–∏—Ç—å
          </button>
          <button class="btn btn-primary" onclick="moderateReview('APPROVED')">
            –û–¥–æ–±—Ä–∏—Ç—å
          </button>
        </div>
      </div>
    </div>
  </div>

  <script src="../config.js"></script>
  <script src="../js/utils.js"></script>
  <script src="../js/api.js"></script>
  <script src="../js/auth.js"></script>
  <script src="js/admin-auth.js"></script>
  <script src="js/admin-api.js"></script>
  <script src="js/reviews.js"></script>
</body>
</html>

